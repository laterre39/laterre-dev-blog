<!-- <script src="https://utteranc.es/client.js"
        repo="laterre39/laterre.dev"
        issue-term="title"
        theme="dark-blue"
        crossorigin="anonymous"
        async>

        <script src="https://giscus.app/client.js"
                data-repo="laterre39/laterre-dev-blog"
                data-repo-id="R_kgDOKpKpOw"
                data-category="Announcements"
                data-category-id="DIC_kwDOKpKpO84Catik"
                data-mapping="title"
                data-strict="0"
                data-reactions-enabled="1"
                data-emit-metadata="0"
                data-input-position="top"
                data-theme="cobalt"
                data-lang="ko"
                crossorigin="anonymous"
                async>
        </script>
</script> -->

{{- /* Comments area start */ -}}
{{- /* to add comments read => https://gohugo.io/content-management/comments/ */ -}}
<div class="comments">
<script>
    const getStoredTheme = () => localStorage.getItem("appearance") === "dark" ? "dark" : "light";

    const setGiscusTheme = () => {
        const sendMessage = (message) => {
            const iframe = document.querySelector('iframe.giscus-frame');
            if (iframe) {
                iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
            }
        }
        sendMessage({ setConfig: { theme: getStoredTheme() } })
    }

    document.addEventListener("DOMContentLoaded", () => {
        const giscusAttributes = {
                "src": "https://giscus.app/client.js",
                "data-repo": "laterre39/laterre-dev-blog",
                "data-repo-id": "R_kgDOKpKpOw",
                "data-category": "Comments",
                "data-category-id": "DIC_kwDOKpKpO84Cd2KW",
                "data-mapping": "url",
                "data-strict": "0",
                "data-reactions-enabled": "1",
                "data-emit-metadata": "0",
                "data-input-position": "top",
                "data-theme": getStoredTheme(),
                "data-lang": "ko",
                "data-loading": "lazy",
                "crossorigin": "anonymous",
                "async": "",
        };

        // Dynamically create script tag.
        const giscusScript = document.createElement("script");
        Object.entries(giscusAttributes).forEach(
            ([key, value]) => giscusScript.setAttribute(key, value));
        console.log(giscusScript)
        document.querySelector(".comments").appendChild(giscusScript);

        // Update giscus theme when the theme switcher is clicked.
        const themeSwitcher = document.querySelector(".scroll-smooth");
        if (themeSwitcher) {
            themeSwitcher.addEventListener("click", setGiscusTheme);
        }
    });
</script>
</div>
{{- /* Comments area end */ -}}